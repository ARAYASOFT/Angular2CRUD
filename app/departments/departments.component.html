<div *ngIf="!dataLoaded" class="preloader-wrapper big active" style="position: fixed; z-index:999; overflow:show; margin:auto; top:0; left:0; bottom:0; right:0;"> 
    <div class="spinner-layer spinner-blue-only centered">
      <div class="circle-clipper left">
        <div class="circle"></div>
      </div><div class="gap-patch">
        <div class="circle"></div>
      </div><div class="circle-clipper right">
        <div class="circle"></div>
      </div>
    </div>
</div>

<h4 *ngIf="dataLoaded">Departments <h4>

<div *ngIf="dataLoaded" class="row">
        <div class="col s12 m6 " *ngFor="let department of departments">
                <div class="card z-depth-3">
                        <div class="card-content">
                                <span class="card-title">
                                        <b>{{department.name}}</b> 
                                        <a href="#deleteDepartment" (click)="setDepartmentData(department.id,department.name)"><i class="small material-icons right red-text">delete</i></a>
                                </span>
                                <p> {{department.description}} </p>
                        </div>
                        <div class="card-action">
                                <a md-button class="btn blue-text" [routerLink]="['/department-edit',department.id]"><i class="material-icons left ">mode_edit</i>Edit</a>
                                <a md-button class="btn blue-text" [routerLink]="['/department-employees',department.id]" ><i class="material-icons left">recent_actors</i>Show Employees</a>
                        </div>
                </div>
        </div>
</div>


<div class="fixed-action-btn">
    <a [routerLink]="['/department-new']"  class="btn-floating btn-large blue waves-effect waves-light tooltipped" data-position="top" data-delay="50" data-tooltip="Add new department">
      <i class="large material-icons">add</i>
    </a>
</div>


<!-- Delete Department Modal -->
  <div id="deleteDepartment" class="modal" style="border-radius: 25px 25px 0px 0px;">
    <div class="modal-content">
      <h4>Delete {{departmentName}} department?</h4>
      <p>Are you sure that you want to delete this department? </p>
    </div>
    <div class="modal-footer">
      <a (click)="removeDepartment()" class="modal-action modal-close waves-effect waves-green btn-flat ">Agree</a>
      <a [routerLink]="['/departments']" class=" modal-action modal-close waves-effect waves-red btn-flat ">Decline</a>
    </div>
  </div>
   



  